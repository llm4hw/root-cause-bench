The problem is not with the test bench but with the way the outputs are assigned for the Pedestrian state (the “Ped” state) in your design. In your output-generation always block, you have a conditional for the Pedestrian state that uses the longTimeHold signal. However, the two values that you assign (3'b101 and 3'b110) are reversed relative to what the test bench expects. In other words, when longTimeHold is asserted, your code assigns an output that is too low (3'b101) when the test bench expects an output greater than 3'b110 (i.e. likely 3'b111). Conversely, when longTimeHold is not asserted, your code assigns 3'b110, but the expected value in that situation is 3'b101.

This misassignment in the Ped state output is the root cause of Test Case 6 failing (and also affects Test Case 2). The bug occurs because the outputs for the Ped state have been swapped (or inverted) relative to the intended behavior. To fix the issue, you would need to swap those two output assignments so that the condition when longTimeHold is high produces a value greater than 3'b110 and the default produces 3'b101.

Remember, though, that you were not asking for code, only an explanation of what is wrong and why.